# 객체지향의 사실과 오해(역할, 책임, 협력 관점에서 본 객체지향) - 조영호

# 1장 협력하는 객체들의 공동체

✔ 정리

- 객체지향을 이해하는데 실세계를 모방하는 것이 도움이되지만 객체지향의 목표가 실세계를 모방하는 것이 아니다. 객체지향의 목표는 소프트웨어 관점에서 새로운 세계를 창조하는 것이다.
- `역할`, `책임`, `협력` 객체지향을 이해하는데 필수요소
- `협력`은 요청과 응답으로 구성
- 특정한 역할은 특정한 책임을 암시한다.
- `다형성`: 동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력. 요청을 받으면 자신만의 방법으로 응답가능하다. -> 객체마다 요청에 따라 응답하는 방식이 다를 수 있다는 뜻 같다.
- 객체는 `자율적`이어야 한다: 객체는 다른 객체의 명령에 복종하는 것이 아니라 요청에 응답할 뿐이다.
- `객체의 자율성`은 객체의 내부와 외부를 명확히 구분하는 것으로부터 나온다. 다른 객체가 무엇(what)을 수행하는지 알 수 있지만 어떻게(how)수행하는지 알 수 없다.
- 객체는 `상태`와 `행동`을 함께 지닌 실체다.
- `메시지`와 `메서드`는 다르다. 메시지는 협력을 위해 다른 객체로 전달하는 행위이며, 메서드는 수신된 메시지를 처리하는 방법이다. 메시지를 수신한 객체가 실행 시간에 메서드를 선택할 수 있다는 점이 다른 프로그래밍언어와 객체지향 프로그래밍 언어를 구분 짓는 핵심이다.

✏ 나

클래스만 강조한다고 객체지향이 아니다. 클래스를 꼭 사용하지 않더라도 객체지향을 강조한 프로그래밍이 가능하다. 객체마다 적절한 책임과 역할을 부여하고 객체 간 유연하고 짜임새 있는 협력 관계를 구축해야 한다.

책임과 역할이라는 말이 어려웠다. '특정한 역할은 특정한 책임을 암시한다'라는 말은 `객체마다 적절한 기능을 부여`한다는 의미라고 이해했다.

객체 간의 관계에는 `자율성`이 있어야 한다. 자신의 상태를 직접 관리해야 한다. 외부의 요청에 의해 자신의 상태가 바뀌지 않고, 외부의 요청에 대해 자신이 직접 자신의 상태를 기반으로 판단하고 직접 관리해야 한다. 수신한 메시지를 처리하는데 적합한 메서드를 메시지를 수신 받은 객체가 직접 선택해야한다.

`메시지와 메서드의 차이`

# 2장 이상한 나라의 객체

✔ 정리

- 객체는 상태(state), 행동(behavior), 식별자(identity)를 지닌 실체다.
- `상태(state)`: 특정 시점에 객체가 가지고 있는 정보의 집합으로 객체의 구조적 특징을 표현, 스스로의 행동에 의해서만 상태가 변경되는 것을 보장(자율성)
- `프로퍼티(property)`: 정적, 속성과 링크 두 가지 종류의 조합으로 표현
- `프로퍼티 값(property value)`: 동적.
- `링크(link)`: 객체와 객체 사이의 의미 있는 연결, 객체는 링크를 통해서만 메시지를 주고받을 수 있다.
- `속성(attribute)`: 객체를 구성하는 값.
- `행동(behavior)`: 외부의 요청 또는 수신된 메시지에 응답하기 위해 동작하고 반응하는 활동
- `부수효과(side effect)`: 객체의 행동에 의해 객체의 상태가 변경되는 상황
- `캡슐화`: 상태를 캡슐 안에 감춰두고 외부에 노출하지 않으면서 행동만 외부로 노출한다. 외부에서 객체에 접근할 수 있는 유일한 방법은 행동뿐이다.
- `식별자(indentity)`: 객체를 서로 구별할 수 있는 특정한 프로퍼티, 불변 상태(immutable state)의 값(value)와 다르게 식별자는 가변 상태(mutable state)를 가진다. 몇 개의 프로퍼티가 우연히 같다고 같은 객체가 아니다. 식별자를 기반으로 동일성을 판단해야한다.
- `쿼리(query)`: 객체의 상태를 조회하는 작업
- `명령(command)`: 객체의 상태를 변경하는 작업
- 사용자는 객체가 제공하는 명령 버튼과 쿼리 버튼으로 구성된 인터페이스를 통해서만 객체에 접근 가능하다. 직접 접근할 수 없다.
- `행동이 상태를 결정`한다. 상태가 아닌 행동에 초점을 맞춰야 한다.
- `의인화`: 객체가 능동적으로 변한다.

✏ 나

자율성은 의인화와 관련있다. 현실 세계에서 음료수는 스스로 비워질 수 없지만 객체지향 세계에서는 스스로 비워지도록 해야 한다. 외부 객체인 사람이 음료수 객체를 제어하지 않고 '마셨다'는 메시지만 전달할 때 비워지는 동작은 음료수 객체 내에서 일어나야 한다.

기계로서 객체를 비유한 내용이 이해하기 쉬웠다. 쿼리와 명령으로 구성된 인터페이스를 통해 객체에 접근이 가능하고, 우리가 직접 기계 내부를 뜯어 볼 일은 없다.

아직 `행동이 상태를 결정`한다는 말을 이해하지 못했다. '행동에 초점을 맞춰야 한다'라는 말 뜻은 이해했지만 객체지향적인 프로그래밍에 어떻게 적용해야하는지 고민이다.
