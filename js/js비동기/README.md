í‚¤ì›Œë“œ

# âœ ì¶”ê°€ ì •ë¦¬ í•„ìš”

> ë™ê¸°, ë¹„ë™ê¸°, event loop, callback, promise, async/await

ğŸ“Œ ëª©ì°¨

1. [Js ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë° ì´í•´](#js-ë¹„ë™ê¸°-í”„ë¡œê·¸ë˜ë°-ì´í•´)
2. [Jsê°€ ë¹„ë™ê¸° íë¦„ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ë“¤](#jsê°€-ë¹„ë™ê¸°-íë¦„ì„-ì²˜ë¦¬í•˜ëŠ”-ë°©ì‹ë“¤)
3. [callback](#callback)
4. [Promise](#promise)
5. [Async/await](#async-await)

# js ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë° ì´í•´

JavascriptëŠ” `ë‹¨ì¼ ìŠ¤ë ˆë“œ(Single-Thread)`ì–¸ì–´ë¡œ, í•˜ë‚˜ì˜ Call Stackë§Œìœ¼ë¡œ ì‹¤í–‰ íë¦„ì„ ì œì–´í•œë‹¤. `ì¦‰, í•˜ë‚˜ì˜ í”„ë¡œê·¸ë¨ì€ ë™ì‹œì— í•˜ë‚˜ì˜ ì½”ë“œë§Œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.` í•˜ì§€ë§Œ JavascriptëŠ” ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‘ë™ê°€ëŠ¥í•œë° ì´ëŠ” `ì‹¤í–‰í™˜ê²½(Runtime)`ê³¼ ê´€ë ¨ìˆë‹¤. ë¹„ë™ê¸°ë¡œ ë™ì‘í•˜ëŠ” í•µì‹¬ìš”ì†ŒëŠ” Javasciprtê°€ ë™ì‘í•˜ëŠ” ë¸Œë¼ìš°ì €ê°€ ê°€ì§€ê³  ìˆë‹¤. (nodeì—ì„œëŠ” libuv) ë¸Œë¼ìš°ì €ëŠ” Javascript ì—”ì§„ ìì²´ê°€ ì œê³µí•˜ì§€ ì•Šì€ ì¼ë¶€ ê¸°ëŠ¥ì¸ DOM, AJAX, Web APIë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

Javscript ëŸ°íƒ€ì„ì„ ë‹¨ìˆœí™”í•´ì„œ ë³´ì•˜ì„ ë•Œ, ë¨¼ì € ë©”ëª¨ë¦¬ í• ë‹¹ì´ ì¼ì–´ë‚˜ëŠ” `í™`ê³¼ `ì½œ ìŠ¤íƒ`ì„ ë³¼ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ v8ë‚´ë¶€ì—ëŠ” ë¹„ë™ê¸°ì™€ ê´€ë ¨ëœ setTImeoutì´ë‚˜ DOM, HTTP ìš”ì²­ì„ ê´€ë¦¬í•˜ëŠ” ì½”ë“œë¥¼ ë³¼ ìˆ˜ ì—†ë‹¤. ë¸Œë¼ìš°ì €ëŠ” `Web APIs`,` Event Table`, `Callback Queue`, `Event Loop` ë“±ìœ¼ë¡œ êµ¬ì„±ë˜ë©° ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œê°€ ì‹¤í–‰ë  ë•Œ ë¸Œë¼ìš°ì €ì™€ì˜ ë™ì‘ì€ ì•„ë˜ ê·¸ë¦¼ì„ ì°¸ê³ í•  ìˆ˜ ìˆë‹¤.

![image](https://user-images.githubusercontent.com/71386219/151917746-f0e46d58-5c15-43cf-8e88-ff6319d6395c.png)

- `Heap`: ë©”ëª¨ë¦¬ í• ë‹¹ì´ ë°œìƒí•˜ëŠ” ê³³
- `Call Stack` : ì‹¤í–‰ëœ ì½”ë“œì˜ í™˜ê²½ì„ ì €ì¥í•˜ëŠ” ìë£Œêµ¬ì¡°, í•¨ìˆ˜ í˜¸ì¶œ ì‹œ Call Stackì— push ë©ë‹ˆë‹¤.
- `Web APIs`: DOM, AJAX, setTimeout ë“± ë¸Œë¼ìš°ì €ê°€ ì œê³µí•˜ëŠ” API
- `Callback Queue`: ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ì‹¤í–‰í•´ì•¼ í•  callback í•¨ìˆ˜ê°€ Callback Queueì— ì¶”ê°€(`FIFOë¡œ ë™ì‘`).
- `Event Loop`
  1. Call Stackê³¼ Callback Queueë¥¼ ê°ì‹œ.
  2. Call Stackì´ ë¹„ì–´ìˆì„ ê²½ìš°, Callback queueì—ì„œ í•¨ìˆ˜ë¥¼ êº¼ë‚´ Call Stackì— ì¶”ê°€í•œë‹¤.

### êµ¬ì²´ì ì¸ ë™ì‘ê³¼ì •ì€ [ë§í¬](https://www.youtube.com/watch?v=8aGhZQkoFbQ) í•´ë‹¹ ìœ íŠœë¸Œ ë™ì˜ìƒì„ ì°¸ê³ í–ˆë‹¤.

## ë™ê¸°ì‹ vs ë¹„ë™ê¸°ì‹

ë™ê¸°ì‹ê³¼ ë¹„ë™ê¸°ì‹ í•¨ìˆ˜ ì‹¤í–‰ ì¤‘ì— `ìŠ¤íƒì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•`ì— ìˆì–´ í° ì°¨ì´ê°€ ì¡´ì¬í•œë‹¤. ë™ê¸° í•¨ìˆ˜ëŠ” ìŠ¤íƒì´ ë°˜í™˜ë  ë•Œê¹Œì§€ ë‹¤ë¥¸ ì‚¬ìš©ì ìŠ¤íƒì„ ì ìœ í•  ìˆ˜ ì—†ë„ë¡ ìŠ¤íƒì„ ê³„ì† ì ìœ í•˜ê³  ìˆë‹¤. ë¹„ë™ê¸° í•¨ìˆ˜ëŠ” ì¼ë¶€ ë¹„ë™ê¸° ì‘ì—…ì„ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ìœ„ì„í•˜ì—¬ ì˜ˆì•½ëœ ì±„ë¡œ ì¦‰ì‹œ ë°˜í™˜ë˜ë©° ìŠ¤íƒì—ì„œ ì œê±°ëœë‹¤. ì´í›„ ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ì½œë°±ì„ í˜¸ì¶œë°›ì•„ í•´ë‹¹ ì½œë°±í•¨ìˆ˜ê°€ ìŠ¤íƒì„ ì ìœ í•œë‹¤.

- `ë™ê¸°ì‹`: ìˆœì°¨ì , ì§ë ¬ì ìœ¼ë¡œ ì‘ì—…(task)ì„ ìˆ˜í–‰. ì–´ë–¤ ì‘ì—…ì´ ìˆ˜í–‰ ì¤‘ì´ë¼ë©´ ë‹¤ìŒ ì‘ì—…ì€ ê·¸ ì‘ì—…ì´ ëë‚  ë•Œê¹Œì§€ ëŒ€ê¸°. ìš”ì²­ì— ëŒ€í•œ ê²°ê³¼ê°€ ê·¸ ìë¦¬ì—ì„œ ì£¼ì–´ì§(`ìš”ì²­ì— ëŒ€í•œ ê²°ê³¼ê°€ ë™ì‹œì— ì¼ì–´ë‚œë‹¤.`)
- `ë¹„ë™ê¸°ì‹`: ìš”ì²­ì„ ë³´ë‚´ë©´ ê·¸ ìš”ì²­ì„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³ , ì‘ë‹µì— ê´€ê³„ì—†ì´ ë°”ë¡œ ë‹¤ìŒ ë™ì‘ì´ ì‹¤í–‰ë˜ëŠ” ë°©ì‹.

ğŸ” ì°¸ê³ ìë£Œ

- https://www.youtube.com/watch?v=8aGhZQkoFbQ
- https://developer.mozilla.org/ko/docs/Learn/JavaScript/Asynchronous/Concepts
- https://darrengwon.tistory.com/953
- https://hazel-developer.tistory.com/179

# jsê°€ ë¹„ë™ê¸° íë¦„ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ë“¤

# callback

## callback íŒ¨í„´ì˜ ë‹¨ì 

- ì¤‘ì²©ì´ ë˜ì–´ ë³µì¡ë„ê°€ ë†’ì•„ì§
- ë¹„ë™ê¸°ì²˜ë¦¬ëª¨ë¸ì€ ì‹¤í–‰ì™„ë£Œë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ì¦‰ì‹œ ë‹¤ìŒ í…ŒìŠ¤í¬ë¥¼ ì‹¤í–‰í•˜ëŠ”ë°, ë¹„ë™ê¸°í•¨ìˆ˜ ë‚´ì—ì„œ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ë©´ ê¸°ëŒ€í•œ ì±„ë¡œ ë™ì‘ì•ˆí•¨. (`í›„ì†ì²˜ë¦¬ê°€ ì–´ë ¤ì›Œ ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ì²˜ë¦¬ ê²°ê³¼ì— ëŒ€í•œ ì²˜ë¦¬ëŠ” ë¹„ë™í•¨ìˆ˜ì˜ ì½œë°± í•¨ìˆ˜ ë‚´ì—ì„œ ì²˜ë¦¬í•´ì•¼í•¨`)
- ì—ëŸ¬ ì²˜ë¦¬ì˜ ì–´ë ¤ì›€

# promise

Promise is a Javascript object for asynchronous operation.

`Producer`ì™€ `Consumer`ë¡œ ë‚˜ëˆ ì„œ ìƒê°í•˜ë©´ í¸í•˜ë‹¤.

ğŸ’¡ `Producerë¡œ ë‚´ìš©ì€ ì‹¤í–‰ë˜ì—ˆì§€ë§Œ ê²°ê³¼ë¥¼ ì•„ì§ ë°˜í™˜í•˜ì§€ ì•Šì€ ê°ì²´ë¥¼ ë§Œë“¤ê³ , thenì„ ë¶™ì—¬ì„œ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤. ì‹¤í–‰ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ìœ¼ë©´ ì™„ë£Œëœ í›„ì— then ë‚´ë¶€ í•¨ìˆ˜ê°€ ì‹œí–‰ëœë‹¤.`

- Resolve -> then: ì„±ê³µ
- Reject -> catch: ì‹¤íŒ¨
- Finally: ë¬´ì¡°ê±´ ì‹¤í–‰

```js
// 1. Producer
// When new Promise is created, the executor runs automaitcally
const promise = new Promise((relove, reject) => {
  // doing some heavy work(network, read files)
  resolve();
  reject();
});
// 2. Consumer: then, catch, finally
promise
  .then((value) => {
    console.log(value);
  })
  .catch((error) => {
    console.log(error);
  })
  .finally(() => {
    console.log('finally');
  });
```

PromiseëŠ” ë‹¤ìŒ ì¤‘ í•˜ë‚˜ì˜ ìƒíƒœ(`State`)ë¥¼ ê°€ì§‘ë‹ˆë‹¤.

- `ëŒ€ê¸°(pending)`: ì´í–‰í•˜ì§€ë„, ê±°ë¶€í•˜ì§€ë„ ì•Šì€ ì´ˆê¸° ìƒíƒœ.
- `ì´í–‰(fulfilled)`: ì—°ì‚°ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë¨.
- `ê±°ë¶€(rejected)`: ì—°ì‚°ì´ ì‹¤íŒ¨í•¨.

## Promise ìƒì„±

Promise ìƒì„±ì í•¨ìˆ˜ê°€ ì¸ìë¡œ ì „ë‹¬ë°›ì€ `ì½œë°± í•¨ìˆ˜`ëŠ” `ë‚´ë¶€ì—ì„œ ë¹„ë™ê¸° ì²˜ë¦¬` ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. ì´ë•Œ ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì„±ê³µí•˜ë©´ ì½œë°± í•¨ìˆ˜ì˜ ì¸ìë¡œ ì „ë‹¬ë°›ì€ `resolve` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤. ì´ë•Œ í”„ë¡œë¯¸ìŠ¤ëŠ” `â€˜fulfilledâ€™` ìƒíƒœê°€ ëœë‹¤. ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì‹¤íŒ¨í•˜ë©´ `reject` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤. ì´ë•Œ í”„ë¡œë¯¸ìŠ¤ëŠ” `â€˜rejectedâ€™` ìƒíƒœê°€ ëœë‹¤

```js
const promise = new Promise((resolve, reject) => {
  // ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.

  if (/* ë¹„ë™ê¸° ì‘ì—… ìˆ˜í–‰ ì„±ê³µ */) {
    resolve('result');
  }
  else { /* ë¹„ë™ê¸° ì‘ì—… ìˆ˜í–‰ ì‹¤íŒ¨ */
    reject('failure reason');
  }
});
```

### Promise.prototype.then()

then() ë©”ì„œë“œëŠ” Promiseë¥¼ ë¦¬í„´í•˜ê³  ë‘ ê°œì˜ ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ë°›ëŠ”ë‹¤. í•˜ë‚˜ëŠ” Promiseê°€ resolveë˜ì—ˆì„ ë•Œ, ë‹¤ë¥¸ í•˜ë‚˜ëŠ” rejectë˜ì—ˆì„ ë•Œë¥¼ ìœ„í•œ ì½œë°± í•¨ìˆ˜ë‹¤.

ë§Œì•½, ë§¤ê°œë³€ìˆ˜ ì¤‘ í•˜ë‚˜ ì´ìƒì„ ìƒëµí–ˆê±°ë‚˜ í•¨ìˆ˜ê°€ ì•„ë‹Œ ê°’ì„ ì „ë‹¬í•œ ê²½ìš°(then ë°”ë¡œ ì´ì „ì˜ Promiseê°€ thenì— í•¸ë“¤ëŸ¬ê°€ ì—†ëŠ” ìƒíƒœë¡œ ì™„ë£Œ(ì´í–‰ì´ë‚˜ ê±°ë¶€)í–ˆì„ ê²½ìš°), ì¶”ê°€ í•¸ë“¤ëŸ¬ê°€ ì—†ëŠ” Promiseê°€ ìƒì„±ë˜ë©°, ì›ë˜ Promiseì˜ ë§ˆì§€ë§‰ ìƒíƒœë¥¼ ê·¸ëŒ€ë¡œ ë¬¼ë ¤ë°›ëŠ”ë‹¤.

```js
// p.then(onFulfilled, onRejected);

// p.then(function(value) {
//   // onFulfilled: ì´í–‰ ê°’ í•˜ë‚˜ë¥¼ ì¸ìˆ˜ë¡œ ë°›ìŒ
// }, function(reason) {
//   // onRejected: ê±°ë¶€ ì´ìœ  í•˜ë‚˜ë¥¼ ì¸ìˆ˜ë¡œ ë°›ìŒ
// });

const promise = (idx) =>
  new Promise((resolve, reject) => {
    // 1ë²ˆ
    if (idx % 2 === 0) {
      resolve('ì§ìˆ˜');
    } else {
      reject('í™€ìˆ˜');
    }
  });

// 2ë²ˆ

promise(testNumber).then(
  // 3ë²ˆ
  function (value) {
    console.log(value); // testNumberê°€ ì§ìˆ˜ì¼ ë•Œ
  },
  function (reason) {
    console.log(reason); // testNumberê°€ í™€ìˆ˜ì¼ ë•Œ
  }
);
//4ë²ˆ
```

- 2ë²ˆ -> 1ë²ˆ -> 4ë²ˆ -> 3ë²ˆ ìˆœ

> `í•¨ìˆ˜ê°€ ê°’ì„ ë°˜í™˜`í•  ê²½ìš°, thenì—ì„œ ë°˜í™˜í•œ í”„ë¡œë¯¸ìŠ¤ëŠ” ê·¸ ë°˜í™˜ê°’ì„ ìì‹ ì˜ ê²°ê³¼ê°’ìœ¼ë¡œ í•˜ì—¬ ì´í–‰í•©ë‹ˆë‹¤.
> `ê°’ì„ ë°˜í™˜í•˜ì§€ ì•Šì„` ê²½ìš°, thenì—ì„œ ë°˜í™˜í•œ í”„ë¡œë¯¸ìŠ¤ëŠ” undefinedë¥¼ ê²°ê³¼ê°’ìœ¼ë¡œ í•˜ì—¬ ì´í–‰í•©ë‹ˆë‹¤.
> `ì˜¤ë¥˜`ê°€ ë°œìƒí•  ê²½ìš°, thenì—ì„œ ë°˜í™˜í•œ í”„ë¡œë¯¸ìŠ¤ëŠ” ê·¸ ì˜¤ë¥˜ë¥¼ ìì‹ ì˜ ê²°ê³¼ê°’ìœ¼ë¡œ í•˜ì—¬ ê±°ë¶€í•©ë‹ˆë‹¤.
> `ì´ë¯¸ ì´í–‰í•œ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜`í•  ê²½ìš°, thenì—ì„œ ë°˜í™˜í•œ í”„ë¡œë¯¸ìŠ¤ëŠ” ê·¸ í”„ë¡œë¯¸ìŠ¤ì˜ ê²°ê³¼ê°’ì„ ìì‹ ì˜ ê²°ê³¼ê°’ìœ¼ë¡œ í•˜ì—¬ ì´í–‰í•©ë‹ˆë‹¤.
> `ì´ë¯¸ ê±°ë¶€í•œ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜`í•  ê²½ìš°, thenì—ì„œ ë°˜í™˜í•œ í”„ë¡œë¯¸ìŠ¤ëŠ” ê·¸ í”„ë¡œë¯¸ìŠ¤ì˜ ê²°ê³¼ê°’ì„ ìì‹ ì˜ ê²°ê³¼ê°’ìœ¼ë¡œ í•˜ì—¬ ê±°ë¶€í•©ë‹ˆë‹¤.
> `ëŒ€ê¸° ì¤‘ì¸ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜`í•  ê²½ìš°, thenì—ì„œ ë°˜í™˜í•œ í”„ë¡œë¯¸ìŠ¤ëŠ” ê·¸ í”„ë¡œë¯¸ìŠ¤ì˜ ì´í–‰ ì—¬ë¶€ì™€ ê²°ê³¼ê°’ì„ ë”°ë¦…ë‹ˆë‹¤.

â—ï¸ ì£¼ì˜

`í•œ ë²ˆ ìƒì„±ëœ ë¹„ë™ê¸° ì¸ìŠ¤í„´ìŠ¤ëŠ” í•œ ë²ˆë§Œ ì‹¤í–‰ëœë‹¤.` í•œ ë²ˆ ìƒì„±ë„ë‹ˆ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì—¬ëŸ¬ ë²ˆ thenë¬¸ì„ ì‹¤í–‰í•´ë„ ì²˜ìŒì— ê²°ì •ëœ promise ê°’ì„ ë³´ì—¬ì¤€ë‹¤. í”„ë¡œë¯¸ìŠ¤ëŠ” í•˜ë‚˜ì¸ë° ë“±ë¡ëœ í•¸ë“¤ëŸ¬ë§Œ ì—¬ëŸ¬ ê°œì¼ ë¿ì´ë‹¤. `ê°ê°ì˜ í•¸ë“¤ëŸ¬ëŠ” ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ì§€ ì•Šê³  ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.`

```js
let promise = new Promise(function (resolve, reject) {
  setTimeout(() => resolve(1), 1000);
});

promise.then(function (result) {
  alert(result); // 1
  return result * 2;
});

promise.then(function (result) {
  alert(result); // 1
  return result * 2;
});

promise.then(function (result) {
  alert(result); // 1
  return result * 2;
});
```

### promise error í•¸ë“¤ë§

- chainingìœ¼ë¡œ ë„ˆë¬´ ê¹Šì´ ê°€ì§€ë§ê³  ì¤‘ê°„ì¤‘ê°„ catchë¡œ ì—ëŸ¬ë¥¼ ì¡ê¸°

```js
promise //
  .then(cb) //1
  .then(cb) //2
  .then(cb) //3
  .catch(); // 1,2,3ë²ˆ ì¤‘ ì–´ëŠ ê³³ì—ì„œ ë°œìƒí•œì§€ ì•Œê¸° ì–´ë ¤ì›€.

promise //
  .then(cb)
  .catch() // return something else, chaingingì´ ëê¹Œì§€ ì‹¤í–‰ë  ìˆ˜ ìˆë„ë¡  ì²˜ë¦¬
  .then(cb)
  .then(cb);
```

### promise ì²´ì´ë‹ê³¼ ì—ëŸ¬ ì²˜ë¦¬

â—ï¸ ì£¼ì˜

```js
let promise = Promise.resolve();

promise.then(() => alert('í”„ë¼ë¯¸ìŠ¤ ì„±ê³µ!'));

alert('ì½”ë“œ ì¢…ë£Œ'); // ì´ ì–¼ëŸ¿ ì°½ì´ ê°€ì¥ ë¨¼ì € ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
```

ìœ„ì˜ ì˜ˆì‹œì™€ ê°™ì´ Promiseìì²´ê°€ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤. í”„ë¡œë¯¸ìŠ¤ê°€ ìœ„ì™€ ê°™ì´ ì§ì‹œ ì´í–‰ ìƒíƒœê°€ë˜ì–´ë„ 'ì½”ë“œì¢…ë£Œ' alertì´ ë¨¼ì € ëœ¨ê³ , `.then`ì´ ë‚˜ì¤‘ì— íŠ¸ë¦¬ê±° ëœë‹¤.

> ì–´ë–¤ í”„ë¼ë¯¸ìŠ¤ê°€ ì¤€ë¹„ë˜ì—ˆì„ ë•Œ ì´ í”„ë¼ë¯¸ìŠ¤ì˜ `.then/catch/finally `í•¸ë“¤ëŸ¬ê°€ íì— ë“¤ì–´ê°„ë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤. ì´ë•Œ í•¸ë“¤ëŸ¬ë“¤ì€ ì—¬ì „íˆ ì‹¤í–‰ë˜ì§€ ì•Šë‹¤ê°€ í˜„ì¬ ì½”ë“œì—ì„œ ììœ ë¡œìš´ ìƒíƒœê°€ ë˜ì—ˆì„ ë•Œì—ì„œì•¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ íì—ì„œ ì‘ì—…ì„ êº¼ë‚´ ì‹¤í–‰ëœë‹¤.

## promise ë³‘ë ¬ì²˜ë¦¬

- Promise.all
- Promise.allSettled: ì‹¤íŒ¨í•œ ê²ƒë§Œ ì¶”ë ¤ë‚¼ ìˆ˜ ìˆìŒ

# async await

- async/awaitë¥¼ í†µí•´ ë¹„ë™ê¸° ì½”ë“œë¥¼ ì“°ê³  Promiseë¥¼ ë” ì½ê¸° ì‰½ë„ë¡ ë§Œë“¤ì–´ì¤Œ.

## ë¹„ë™ê¸° í‚¤ì›Œë“œ

`async`

- functionì•ì— asyncë¥¼ ë¶™ì´ë©´ í•´ë‹¹ í•¨ìˆ˜ëŠ” í•­ìƒ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜
- í”„ë¡œë¯¸ìŠ¤ê°€ ì•„ë‹Œ ê°’ì„ ë°˜í™˜í•˜ë”ë¼ë„ ì´í–‰ ã……í•­íƒœì˜ í”„ë¡œë¯¸ìŠ¤ë¡œ ê°’ì„ ê°ì‹¸ ì´í–‰ëœ í”„ë¡œë¯¸ìŠ¤ê°€ ë°˜í™˜

`await`

- Promiseê¸°ë°˜ í•¨ìˆ˜ ì•ì— ì¨ì„œ, Promiseê°€ fullfilë  ë•Œ ê¹Œì§€ ì ì‹œ ì¤‘ë‹¨í•˜ê³ , ê²°ê³¼ë¥¼ ë°˜í™˜. ì‹¤í–‰ì„ ê¸°ë‹¤ë¦¬ëŠ” ë‹¤ë¥¸ ì½”ë“œë“¤ì€ ì¤‘ì§€ì‹œí‚¤ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ì‹¤í–‰.

## ë‹¨ì 

ë™ê¸°ì‹ ì½”ë“œì²˜ëŸ¼ë³´ì´ê²Œí•¨. í•¨ìˆ˜ ë¸”ëŸ­ì— ì—¬ëŸ¬ ê°œì˜ await í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ Promiseê°€ fulfilledë˜ê¸° ì „ ê¹Œì§€ ë‹¤ìŒ await ì„ ì°¨ë‹¨í•˜ê¸° ë•Œë¬¸. -> ì •ì˜í•œ í•¨ìˆ˜ ë‚´ì—ì„œëŠ” ë™ê¸°ì ìœ¼ë¡œ ì‘ë™

ê° await ëŠ” ì´ì „ì˜ ì‘ì—…ì´ ëë‚  ë•Œ ê¹Œì§€ ê¸°ë‹¤ë¦¼. í•˜ì§€ë§Œ ì´ë ‡ê²Œ í•˜ë©´ ë™ê¸°ì ì¸ ì‹¤í–‰ì²˜ëŸ¼ ë³´ì„.` ê¸°ë‹¤ë¦¬ëŠ”ê²Œ ì•„ë‹ˆë¼ ì¼ì œíˆ ì‹¤í–‰ë˜ì–´ì•¼ í•œë‹¤.`

### í•´ê²°

- ë³‘ë ¬ì²˜ë¦¬

ëª¨ë“  Promise ì˜¤ë¸Œì íŠ¸ë¥¼ ë³€ìˆ˜ì— ì €ì¥í•˜ì—¬ ë¯¸ë¦¬ ì‹¤í–‰ë˜ê²Œ í•˜ê³  ë³€ìˆ˜ê°€ ì‚¬ìš© ê°€ëŠ¥í•  ë•Œ êº¼ë‚´ì„œ ì“°ëŠ” ê²ƒ ì…ë‹ˆë‹¤.

```js
function timeoutPromise(interval) {
  return new Promise((resolve, reject) => {
    setTimeout(function () {
      resolve('done');
    }, interval);
  });
}

// bad
async function timeTest() {
  await timeoutPromise(3000);
  await timeoutPromise(3000);
  await timeoutPromise(3000);
}
// good
async function timeTest() {
  const timeoutPromise1 = timeoutPromise(3000);
  const timeoutPromise2 = timeoutPromise(3000);
  const timeoutPromise3 = timeoutPromise(3000);

  await timeoutPromise1;
  await timeoutPromise2;
  await timeoutPromise3;
}
```

ğŸ” ì°¸ê³ ìë£Œ

- [í”„ë¼ë¯¸ìŠ¤ì™€ async, await - ko.javascript.info](https://ko.javascript.info/async)
- [Asynchronous/Introducing - mdn](https://developer.mozilla.org/ko/docs/Learn/JavaScript/Asynchronous/Introducing)
- [Promise - mdn](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise)
- [Async_await - mdn](https://developer.mozilla.org/ko/docs/Learn/JavaScript/Asynchronous/Async_await)
- [ë…¸ë“œêµê³¼ì„œ ê°œì •íŒ 2-8. Promise, async/await - ZeroCho ê°•ì˜](https://www.youtube.com/watch?v=NEaDPHNflGI&t=356s)
- [es6-promise - poiemaweb](https://poiemaweb.com/es6-promise)
- [js-async - poiemaweb](https://poiemaweb.com/js-async)
- [js-event - poiemaweb](https://poiemaweb.com/js-event)
- [ìë°”ìŠ¤í¬ë¦½íŠ¸ Promise ì‰½ê²Œ ì´í•´í•˜ê¸° - captain pangyoë¸”ë¡œê·¸](https://joshua1988.github.io/web-development/javascript/promise-for-beginners/)
