# 7월 월간 회고

# 개인공부

코드스쿼드가 끝난 후 혼자 코딩 공부를 시작한 첫 달이다. **8월까지 개인 프로젝트와 코넥트 프로젝트를 끝낸다는 큰 목표를 세웠고, 세부 목표로 테스트코드에 대한 이해와 배포 과정에 대한 이해를 세웠다.**

개인 프로젝트 같은 경우, 진도를 나가지 못했다. 테스트 코드, 배포 관련된 학습이 생각보다 오래걸렸다. 바로 프로젝트에 적용하면서 여러 시행착오를 레포리토리에 기록할 수 있게 할까했지만 우선 작은 단위로 실습을 하다보니 오래걸린 것 같다. 또한, 서버 관련된 내용을 학습하는데 생각보다 알아야할 부분이 많았다.

### 잘한 점

- 코드를 구현하다 이해하지 못하는 부분이 있을 때, 근본적인 문제점을 찾는 습관이 생겼다. jest를 사용하면서 함수 및 module mocking이 어려웠는데 내가 자바스크립트 모듈과 바벨과 관련된 지식이 부족하다는 걸 느끼고 그 부분부터 이해하려고했다.
- 배포 및 서버 관련 이론을 학습하면서 백엔드와 협업할 때 수동적으로 따라가기보다 내 의견을 적극적으로 낼 수 있게 되었다.
- 테스트코드에 대한 필요성을 느끼고, 프론트에서 어떤 관점에서 테스트 코드를 작성해야하는지 나만의 기준을 정했다. (로직 → jest, UI → storybook)
- 자료구조를 구현하면서 단위 테스트 코드를 작성했다.

### 아쉬운 점

- 한 번에 많은 기술을 프로젝트에 적용하려다보니 호흡이 길어졌다. 빠르게 적용하고 구현하는 짧은 호흡의 개발이 필요할 것 같다. 예를 들어, swagger를 처음써보는데 auto-generate까지하려니 오래걸렸다.
- 보일러 템플릿 같은 환경설정하는데 나만의 기준이 없었다. 레포지토리에 정리하긴했지만 남들이 쓰기 위한 목적인지 내가 편하게 쓸 목적인지, 확실한 기준 없이 정리하다보니 이것저것 좋은 것만 덕지덕지 붙혀 놓은 느낌이다.

## 학습 키워드

### 테스트

- 프론트에서 테스트
- 테스트 코드 작성해야하는 이유
- 단위 테스트
- jest 사용방법
- react-test-library 사용방법

## 자바스크립트 모듈

- commonJS
- ESM

## 바벨

- 동작원리
- 타입스크립트 컴파일 비교

## nodejs학습 및 express 서버 세팅

- nodejs 동작원리 및 이론
- express 폴더구조

## 보일러 템플릿 작성

- react - typescript - webpack: babel, tsc, jest, RTL, storybook, assets
- express - typescript : babel,tsc, jest, nodemon, mongodb
- typescript - browser: webpack

# 코넥트

6월 한 달동안 휴식을 가진 뒤 이번 달 부터 다시 프로젝트를 시작했다. 벌써 시작한지 반년이 넘었지만 버전1도 배포하지 못했고, 테스트 코드도 없어 마음이 급해졌다. **프로젝트 기간이 길어지다보니 새로운 기능 구현과 리팩토링을 구분하지 못했기 때문에 나타난 문제라고 생각한다.** 배포에 초점을 두고 이미 구현된 내용은 과감히 넘어가고 미완된 기능을 우선적으로 구현했어야했다. 하지만 6개월 동안 새롭게 학습된 내용이 있으면 더 좋은 기능을 적용하고 싶어 이미 구현된 코드를 또 수정하느라 시간이 오래걸렸던 것 같다.

이를 해결하기 위해 **백로그 관리를 새롭게 했다.** 노션을 활용해 백로그 관리를 시작했고, 코드스쿼드에서 학습한 **에자일방법**을 적용하려고 노력했다. 8월을 목표로 빠르게 동작가능한 어플리케이션을 만들고 이후 피드백을 통한 수정 작업을 진행할 생각이다. 또한, 많은 라이브러리를들을 사용하기보다 react에서 기본적으로 제공하는 툴을 활용하면서 react에 대한 더 깊은 이해를 목표로 삼기로 했다.

**백로그 관리를 새롭게 하면서 기획자의 중요성을 느꼈다.** 프론트 개발자로서 백엔드와 이야기도하고, 디자이너와 이야기도 하고, 프론트 코드를 짜는 것만으로도 시간이 부족한데 수정된 비즈니스 로직을 정리해야서 정신이 없었다. 회의록에 간단히 하루에 나눈 얘기를 정리하긴 했지만 추후에 다시 찾아보기가 어려워 별도의 페이지를 만들었다.

**비즈니스 로직, 유저 스토리, 유저 스트리마다 필요한 UI를 관리하는 노션 페이지를 회의록과 별도로 관리하기 시작했다**. 따로 관리해야할 페이지가 늘어서 정리시간이 늘어가긴 했지만 유지보수를 위해 꼭 필요한 작업이라고 느꼈다.

결과적으로 협업에 관해 팀원과 상의하는 시간이 많고 틀을 잡는데 시간을 많이 썼다. 다행이도 같이 하는 팀원이 협업에 적극적이시고 문서정리나 백로그 관리를 긍정적으로 생각해주셔서 어렵지 않았지만, 혼자 코드를 짜는 일에 비해 다른 사람과 협업하는 과정이 더 힘들었던 건 사실이다. 그럼에도 같이 프로젝트를 진행하면서 꼭 필요한 부분이었고 팀원과 마음이 잘 맞아 좋은 경험이 되었다.

## 컴포넌트 선언적으로 리팩토링

최초 데이터를 요청한 이후 화면에 보여지기까지 로딩 상태를 사용자에게 표시해야하고, 에러가 발생했을 때 메세지와 다시 요청을 수행할 수 있도록하는 UI가 필요했다. 이전에는 하나의 컴포넌트에서 데이터상태, 로딩상태, 에러상태를 두고 useEffect로 데이터 요청 함에 따라 바뀌는 데이터 상태를 표시하는 로직을 구현했다. 하지만 해당 로직이 반복적으로 여러 컴포넌트에서 사용되고, jsx반환하는 부분에 여러 if문이 생겨 가독성에 좋지 못했다.

**반복되는 로직을 처리하기 위해 WithLoading이라는 HOC(High Order Component)를 만들고, useAxios라는 커스텀 hooks를 적용했다**. 위의 문제는 해결되었지만 GET요청에만 한정에서 쓸 수 있었고, 무한스크롤 로직처럼 특수한 데이터 요청에는 적용하기 어려웠다. 구현된 코드에 해당 기능을 추가할까했지만 두 가지 경우가 각각 특수한 경우라고 생각했다. **무한스크롤을 해결하기 위해 useAxios를 그대로 사용하고 WithLoading만 분리해 WithInfiniteScroll을 따로 만들었다.** 또한, **useCommentAction과 같이 특정 데이터 도메인에 따라 추가,수정,삭제 요청 이후 GET청을 다시 할 수 있는 커스텀 hooks를 만들었다.**

## 컴포넌트 UI/로직 분리

redux로직을 덜어내고 useState와 useReducer, useEffect로만 상태를 관리하다보니 props drilling문제가 생겼고, 하나의 컴포넌트 덩어리가 커졌다. 이를 해결하기 위해 **컴포넌트는 UI에 관련된 로직만 보이게 하고 데이터와 관련된 문제는 contextApi와 도메인별 커스텀 Hooks로 관리했다.**

## vanillaJS react로 데이터 타입관리

proptypes를 활용해 반복되는 타입들을 폴더를 따로 지정해서 관리했다. 데이터 별로 자주 사용되는 타입을 묶어서 관리해 타입스크립트를 사용하지 않는 조건에서 유지보수하는데 도움이 되었다.
