# 20220726

<details>
<summary>시간대별 정리</summary>

### 오전

주간회고 작성

연결리스트 push테스트코드

- 단위테스트마다 인스턴스 생성
- mocking 하지 않기
- mocking 왜 해야함? → 잘못생각함. mocking목적 다시 공부

### 오후

연결리스트 unshfit 테스크코드 작성

- it끼리 독립적이게 만들면서 생기는 중복코드
- 원래코드와 독립적이어야할 것 같다.

배포를 위한 학습

- web server vs was
- 간단한 서버 이론정리

### 저녁

코넥트

- 노션 백로그 관리
- 비즈니스로직 + UI 정리

</details>
<br>

# 개인공부

## 1. 연결리스트 prepend메서드 구현 (with 테스트코드)

[구현중인 gist 파일](https://gist.github.com/kimyouknow/06b23b748111eb2b3112f44f3076ebd8)

독립적인 단위테스트가 많아지면서 반복되는 코드가 많아졌다. 예를 들어, class의 인스턴스를 단위테스트마다 생성하고 특정 메서드가 있는지 확인하는 작업이나 다른 기능을 위한 테스트이지만 비슷하게 반복되는 코드가 생겼다.

아직 반복되는 코드를 효과적으로 줄이지 못해 테스트코드가 길어지고 가독성이 좋지 못하다. 반복로직을 줄이고 가독성이 좋게 테스트 코드를 짜는 방법 대한 리팩토링 방법이 따로 있을까 내일 찾아봐야겠다.

## 2. 배포 하기전 웹서버,WAS학습

swagger를 활용해 api명세를 작성할까하다가 배포를 먼저 공부하기로 했다.

배포하기 전에 ec2, docker, jekins, s3 등등 한 번쯤 들어본 키워드에 대해서 검색해봤다.

```
react spring 배포, 분리배포, docker ec2 jekins배포, CI/CD, nginx
```

키워드 중심으로 이것저것 알아보니 시간만 흘러가고 정리가 안됐다. “배포 학습 우선순위”라는 키워드로 검색해봤지만 별다른 방법이 안나와 글을 보면서 자주 등장하지만 내가 잘 모르는 단어 위주로 학습해봤다.

### 2-1. 정적사이트 vs 동적사이트

**정적사이트**

html,css,js, 등과 같은 정적 파일들을 다루는 페이지, 사용자는 서버의 데이터가 변경되지 않는 한 고정된 웹페이지를 보게 된다.

**동적사이트**

서버에 있는 데이터를 스크립트에 의해 가공처리하여 만들어진 html 문서를 전달하는 웹 페이지, 요청에 관하여 사용자는 조건에 따라 다른 결과를 받는다.

내가 주로 사용하는 **React로 만든 웹앱 서비스는 정적사이트**라고 할 수 있다. 웹서버에서 단순히 웹껍데기(= 정적자원 : html, css, javascript)를 다운 받고, 클라이언트인 브라우저가 다른 서버(주로 DB를 다루는 서버)와 JSON으로 데이터를 주고받으며(데이터 통신) 여러 가지 작업들을 수행한다.

### 2-2. Web Server와 WAS의 차이

**Web Server:**

- HTML 문서같은 **정적 컨텐츠**를 처리(HTTP 프로토콜을 통해 읽힐 수 있는 문서)
- **정적 컨텐츠 제공 :** WAS(Web Application Server)를 거치지 않고 정적자원제공
- **동적 컨텐츠 제공 :** WAS(Web Application Server)로 전달하여 WAS가 처리한 결과를 client에게 전달.
- 웹 서버에서는 정적 컨텐츠만 처리하도록 기능 분배를 해서 서버 부담을 줄일 수 있다.

**WAS:**

- DB 조회나 다양한 로직 처리를 요구하는 동적인 컨텐츠를 제공하기 위해 만들어진 Application Server
- 서버의 기능들을 구조적으로 분리하여 처리하는 역할
- WAS를 통해 요청에 맞는 데이터를 DB에서 가져와 비즈니스 로직에 맞게 그때마다 결과를 만들고 제공하면서 자원을 효율적으로 사용할 수 있다.

### 2-3. 웹서버와 WAS를 구분하는 이유

- 자원 이용의 효율성 및 장애 극복, 배포 및 유지보수의 편의성을 위해 웹 서버와 WAS를 분리한다.
- 기능을 분리하여 서버 부하 방지
- 물리적으로 분리하여 보안 강화
- 여러 대의 WAS를 연결 가능

### 2-4. 효율적인 운영방법

보통 웹 서버를 WAS 앞에 두고, 필요한 WAS들을 웹 서버에 플러그인 형태로 설정하면 효율적인 분산 처리하는 3번이 적절하다고 한다.

1. Client -> Web Server -> DB
2. Client -> WAS -> DB
   `3) Client -> Web Server -> WAS -> DB`

내일은 아마존 클라우드 서비스에 대한 방법을 좀 찾아봐야겠다.

# 코넥트

코드를 짜기보다는 회의하면서 노션을 정리했다.

계속바뀌는 비즈니로직과 UI를 회의록에만 정리하다보니 특정 키워드로 찾아보기 어려웠다. 회의록마다 제목(예시: 25-로그인흐름,OAuth흐름변경)을 작성했지만 불편했다.

결과적으로 번거롭고 힘든 작업이었지만 스토리를 다시 한 번 정리했다. 이전에 작성해둔 유저 스토리는 프론트만 사용할 수 있는 스토리였다. 백앤드나 디자인과 관련된 내용이 없었고, 핵심적인 로직을 따로 적지 않았다. 전체 프로젝트를 위한 유저 스토리는 다음과 같은 형식으로 정리해봤다.

```markdown
## 핵심 스토리

// 요약

## [비즈니스 로직]

// 공통 비즈니스로직
// 공통 비즈니스로직에 따른 프론트 로직
// 공통 비즈니스로직에 따른 백 로직

## [UI]

// 해당 스토리를 위해 필요한 UI
```

당장 프론트코드도 잘 작성하지 못하는데 너무 기획에 힘을 주고 있는 건 아닐까 고민이 들었다. 하지만 **프로젝트를 진행하면서 중구난방으로 할 일을 관리하는 것보다 잘 정리된 틀안에서 작업해야 유지보수하기 수월할 것 같다**는 생각이 들었다.
