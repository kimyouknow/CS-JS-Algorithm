# 20220715

<details>
<summary>시간대별 정리</summary>

### 아침

회고작성

### 오전

react 폴더 구조 및 컴포넌트 크기 느낀 점 정리

이슈트래커 스토리 정리

### 오후

이슈트래커 백로그 정리

- 유저 스토리
- 백로그

피어세션

- 바벨 쓰면서 타입 체킹하는 방법
- 무한스크롤

### 저녁

코넥트

- 무한 스크롤 에러 수정

</details>
<br>

# 개인공부

### 이슈트래커 유저 스토리 작성

혼자 토이 프로젝트를 진행하더라도 백로그 관리와 유저 스토리 관리를 하면 좋다고 생각해 노션과 엑셀을 활용해 정리해봤다.

유저 스토리만 있으면 될 것 같았지만 기술적인 백로그도 같이 정리할 필요가 있었다. 예를 들어, “사용자가 댓글을 작성한다"라는 액션이 있을 때, 이를 위해 필요한 화면 구성, 로직 등등을 어디에 정리해야할지 고민했다.

우선 유저 스토리를 만들고, 각 굵직한 흐름마다 그에 맞는 세부 스토리와 백로그를 따로 정리해야겠다.

# 출첵스터디 피어세션

### typescript 쓸 때: null, undefined

typescript 쓸 때 null을 권장하지 않는다.

### 바벨쓰면서 타입체킹

fork-ts-checker-webpack-plugin : 타입스크립트 타입 검사를 별도로 실행하는 웹팩 플러그인입니다. 웹팩을 실행하면 먼저 컴파일과 번들링만 빨리 실행하고 타입 체크는 좀 늦게 따로 실행할 수 있다.

esbuild : **자바스크립트를 위한 번들러**

### 바벨 babel polyfill core-js

이번 주 내내 babel에 관해서 학습했었다. 폴리필에 관한 내용도 학습했었는데 core-js에 대해서 파크가 자세하게 설명해주셨다. 우선 간단한 키워드 학습으로 남기고 추후에 알아봐야겠다.

### 무한스크롤

무한스크롤에서 scroll이벤트를 감지하는 방식을 사용한다면 비교적 간단할 수 있지만 1px을 움직일 때마다 메인스레드에서 이벤트에 등록한 콜백함수가 작동한다. 또한 react의 경우 컴포넌트를 다시 렌더링하는 문제가 생긴다.

사실 블로그글로만 확인하고 내가 코드를 돌려보면서 정량적인 비교를 안해봤지만 위에서 언급한 문제점이 있다고 생각해 Intersection Oberver를 사용해서 구현했다.

Intersection Oberver로 쉽게 구현할 수 있었지만 다음과 같은 버그를 해결하지 못했었다. 이에 대해서 파크가 좋은 아이디어를 알려주셔서 코넥트에서 활용할 생각이다.

# 코넥트

### 무한스크롤

**문제**

렌더링 초기에 리스트에 컴포넌트가 없기 때문에 초기 아이템 로딩과 인터섹션이 둘 다 발생한다. 예를 들어, 처음에 page=0만 요청해야 하는데 page=1. page=2 까지 요청해버린다. `→ display : none 활용해서 이슈해결`

**해결**

아래 코드와 같이 데이터를 요청 중일 때는 `isLoading`을 활용해 `타겟 엘리먼트의 display 속성`을 `None`으로 해서 observer가 인식하지 못하게 수정했다.

```jsx
<div ref={loadMoreRef} style={{ display: isLoading ? 'none' : 'block' }}>
  {isLoading && <div>Loading...</div>}
</div>
```

[https://github.com/yulpumta-clone-team/Co-nect/pull/86](https://github.com/yulpumta-clone-team/Co-nect/pull/86)
