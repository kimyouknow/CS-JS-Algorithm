# 5월 월간 회고

<aside>
💡 상태관리, 선언적 프로그래밍, msw, 에러핸들링, 브랜치 최신화, 협업, npm배포
</aside>

## 상태관리

이전까지 내가 고려한 건 로컬 상태관리뿐이었다. 프론트는 로컬상태뿐만 아니라 서버에 있는 데이터(서버상태)도 적절히 UI로 보여줘야한다. 생성,수정,삭제 요청에 따라 변경되는 서버 상태를 로컬에 보여줘야한다. 데이터 조회요청을 실시간으로 반영해야할 때도 있다.

앞으로 상태관리관련 로직을 다룰 때, 데이터를 fetch하는 로직과 캐싱하는 부분까지 고려해야겠다.

## 선언적 프로그래밍

코드는 언어로 표현된다. 우리는 `type === “animal”`이라는 코드를 보며 타입이 “animal”일 때만 true를 반환한다고 추론해야한다. 하지만 우리는 코드를 읽으면서 앞선 추론과정을 떠올린다. 쉽게 말해 `우리는 코드를 보며 코드를 생각으로 번역하는 과정을 거친다.` `isAnimal`, `isAnimalType` 등과 같은 언어적 표현을 사용하면 우리가 코드를 볼 때 코드를 생각으로 변환하는 과정이 줄어들 수 있다.

## 선언적 UI의 장점

- 실제 렌더링 구현에 신경 쓸 필요가 없습니다.
- 코드가 더 예측가능하다.
- 프로그램의 복잡도를 줄인다.

핵심은 순수한 선언적 코드를 작성하는 게 아니다. 명령적 코드를 한계까지 밀어붙여 구현 세부 사항이 나타도록하는 것이다.

React에서 제공하는 함수형 프로그래밍을 사용한다면 우리는 React를 UI 라이브러리로써 JSX를 반환하는 함수로 생각할 수 있다. `모든 복잡한 일은 렌더러에서 처리`한다. 생명주기, 언제 리렌더링이 될 것인지, 어떻게 리렌더링이 될 것인지 등등.. 우리는 컴포넌트와 관련 작업에만 집중할 수 있게된다. (컴포넌트 작업을 순수한 UI로 한정지을 수 있다)

## 모킹tool (msw)

api가 완성될 때까지 기다릴 수 없다. 모킹작업을 미리해두고 api가 나오면 연결해야한다. json-server, postman-mock-server를 써봤는데 msw가 제일 편했다. (자세한 비교는 따로 작성할 예정이다)

## 에러 핸들링

에러를 어떻게 다뤄야할까? 모든 에러를 catch할 수 없다는 걸 인지하고, 적절한 처리를 해줘야한다.

- 개발자에게 보여줄 에러인지, 사용자에게 보여줄 에러인지 구분
- 데이터 요청과정에서 발생한 에러인지, 로컬 상태에서만 발생한 에러인지
- 서버에서 발생한 에러를 어떻게 보여줄 것인지

## 협업

이번에 프로젝트에서 팀원과 A, B작업을 번갈아가면서 진행했다. 서로 각 작업을 완성하고 코드 리뷰를 하는 방식이나, 페어로 각 작업을 모두 같이 진행하는 방법은 한 두 번 경험해서 새로운 방법을 고안했다. 기능을 완성하기 전 서로 하던 작업을 바꿔가면 진행하다보니 상당히 어려웠다.

번갈아면서 코딩하니 작업 속도도 더디고 서로 코드를 이해하는데 시간이 오래걸렸지만 장점이 확실했다. 다음 사람을 생각해 `네이밍`에 더욱 신경쓰게 되었고, `로직을 깔끔`하게 짜려고 노력하게 되었다. 또한, 내가 어떤 생각으로 해당 코드를 짰는지 `문서화(고민기록 및 설명)`를 꼼꼼하게 하게되었다.

## npm배포

npm배포를 해봤다. 막상해보니 배포하는 것 자체는 어렵지 않았지만, 재사용성과 범용성을 고려하는 일이 어려웠다. 트리쉐이킹, 빌드, 컴파일과정 등 아직 공부할 내용이 많다. 몇개의 라이브러리를 배포해서 꾸준히 관리해봐야겠다.

## 브랜치 최신화

rebase와 merge차이를 이해했다. 이전까지 rebase가 깃 로그가 깔끔해진다는 이론적인 내용만 알고 무조건 사용했다. merge, —squash merge, rebase의 이론적인 차이는 알고 있었도 직접 테스트해볼 일이 없었는데 이번 프로젝트를 진행하면서 비교해봤다. 이론적으로 알고 있었지만 직접비교해보니 확실히 이해했다.

주의할 점으로, `upstream/eden-dori`에서 `origin/develop`로는 `rebase`했지만

`origin/develop`에서 `origin/devleop-FE`로 최신화할 때 rebase를 하지 않으면(`merge`)나중에 develop-FE에서 upstream/eden-dori로 prd를 보낼 때 merge한 로그가 남아서 로그가 정리되지 않는다!
