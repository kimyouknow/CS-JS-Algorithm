# 20220321

# 코드스쿼드

> 의도적인 이벤트 딜레이(input, keyup, mousemove, resize), mv\*패턴?보다는 Separation of concerns,

## mv\*패턴 ❌ -> Separation of concerns✅

여러 디자인 패턴에 대해 고민했다. 2주전쯤인가, 디자인 패턴에 대해 공부하겠다고 계획을 세웠었다. 계획을 세우고 디자인 패턴 종류를 알아보던 도중 크롱이 지금 단계에서는 디자인 패턴에 한정되어 코딩할 필요가 없다고 했다. 정확히 말하자면, 학습의 목적에서 다양한 디자인 패턴을 알아보는 정도는 좋지만, 궁긍적으로 우리가 해야하는 부분은 SOC(`Separation of concerns`)에 관한 소프트웨어 설계다. 어떻게 그룹을 묶을지, 어떤 기능별로 관리할지 나만의 아이디어를 먼저 생각하는게 더 중요하다. 물론 이미 여러 사람이 오랜 시간에 걸쳐 만들어 놓은 디자인 패턴이 훨씬 효율성이 좋을 수 있다. 하지만 지금 내게 필요한 건 남들이 짠 코드를 재사용하는 것이 아니다. `스스로 생각하고, 코드로 구현하고, 구현할 수 없더라도 시도한 부분(고민)을 정리하는 과정`이 코드스쿼드를 하는 동안 필요하다고 생각한다.

이런 관점에서 3월 3주차회고에서 다룬 컴포넌트구조 구현은 반정도 칭찬할 만하다. 전체적인 흐름과 아이디어는 블로그에서 가져왔지만, 세부적인 동작을 직접구현하면서 고민한 과정을 잘 정리했다.

추가적으로, mvc패턴이 프론트 구현하는데 적합한가? 라는 의문이 든다.

- 컴포넌트기반으로 생각한다면 컴포넌트마다 mvc가 있는 느낌
- 전체 어플리케이션 렌더링 관점에서 본다면 ssr일 때는 페이지마다 mvc를 적용하면 될 것 같고, cra에서는 위에서 언급한 컴포넌트마다 mvc가 있어야 할 듯

클라이언트는 보통 브라우저와 백앤드 사이에서 동작하기 때문에 큰 효과가 없는데, 백앤드에서는 여러 클라이언트와 상호작용해야하니 데이터 관리흐름을 잘 설계해야할 것 같다. (여러 클라이언트가 동시에 하나의 데이터에 접근하면 어떻게 될까? 예를 들어, 동시에 좋아요 10개)

## 의도적인 이벤트 딜레이

> 정말 reize될때마다 원하니? 아니면 redize가 완료되면 함수가 실행되길 바라니~

resize나 mousemove같은 이벤트는 이벤트 발생이 자주 일어난다. resize의 경우 창 크기를 조절할 때마다 발생하고, mouseve는 마우스가 움직일 때마다 발생한다. 연산이 오래걸리는 작업이나 dom조정작업이 해당 이벤트가 발생할 때마다 계속 일어난다면 좋지 못한 ux가 될 수 있다.

## 구글시트용

검색창 관련 버그를 수정하면서 의도적으로 이벤트를 딜레이하는 방법에 대해 고민했다. setInterval로 이벤트리스너의 콜백을 계속 호출하게 했는데 상당히 비효율적인 느낌이다.

컴포넌트 구조로 만들었는데, 각 컴포넌트마다 모델과 뷰, 컨트롤러가 있다고 생각했다. 전역적으로 쓰는 store(모델)가 아니면 컴포넌트마다 store를 갖는게 더 좋지 않을까?
